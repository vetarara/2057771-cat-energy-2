var s=document.querySelector(".main-nav"),u=document.querySelector(".main-nav__toggle");s.classList.remove("main-nav--nojs");u.addEventListener("click",()=>{s.classList.contains("main-nav--closed")?(s.classList.remove("main-nav--closed"),s.classList.add("main-nav--opened")):(s.classList.add("main-nav--closed"),s.classList.remove("main-nav--opened"))});ymaps.ready(p);function p(){let e=document.getElementById("map");e.classList.remove("map--nojs"),e.innerHTML="";let t=[59.938631,30.323037],n=()=>window.innerWidth>=1280?[59.938631,30.3145]:[59.938631,30.323037],i=new ymaps.Map("map",{center:n(),zoom:15}),l=new ymaps.Placemark(t,{},{iconLayout:"default#image",iconImageHref:"images/map-pin.png",iconImageSize:[113,106],iconImageOffset:[-55,-100]});i.geoObjects.add(l),window.addEventListener("resize",()=>{i.setCenter(n()),l.geometry.setCoordinates(t),i.container.fitToViewport()})}var r=document.querySelector(".slider"),c=r.querySelector(".slider__curtain"),o=r.querySelector(".slider__image--before"),d=r.querySelector(".slider__image--after"),a=!1;function m(e){let t=r.getBoundingClientRect(),n=e-t.left;n<0&&(n=0),n>t.width&&(n=t.width);let i=n/t.width*100;c.style.left=`${i}%`,o.style.clipPath=`inset(0 ${100-i}% 0 0)`,d.style.clipPath=`inset(0 0 0 ${i}%)`}c.addEventListener("mousedown",()=>{a=!0});document.addEventListener("mouseup",()=>{a=!1});document.addEventListener("mousemove",e=>{a&&m(e.clientX)});c.addEventListener("touchstart",()=>{a=!0});document.addEventListener("touchend",()=>{a=!1});document.addEventListener("touchmove",e=>{a&&m(e.touches[0].clientX)});window.addEventListener("load",()=>{o.style.clipPath="inset(0 50% 0 0)",d.style.clipPath="inset(0 0 0 50%)"});window.addEventListener("resize",()=>{let e=o.style.clipPath.match(/(\d+(\.\d+)?)%/),t=e?parseFloat(e[1]):50;o.style.clipPath=`inset(0 ${t}% 0 0)`,d.style.clipPath=`inset(0 0 0 ${100-t}%)`});
