var o=document.querySelector(".main-nav"),m=document.querySelector(".main-nav__toggle");o.classList.remove("main-nav--nojs");m.addEventListener("click",()=>{o.classList.contains("main-nav--closed")?(o.classList.remove("main-nav--closed"),o.classList.add("main-nav--opened")):(o.classList.add("main-nav--closed"),o.classList.remove("main-nav--opened"))});ymaps.ready(u);function u(){let i=document.getElementById("map");i.classList.remove("map--nojs"),i.innerHTML="";let n=[59.938631,30.323037],a=()=>window.innerWidth>=1280?[59.938631,30.3145]:[59.938631,30.323037],e=new ymaps.Map("map",{center:a(),zoom:15}),c=new ymaps.Placemark(n,{},{iconLayout:"default#image",iconImageHref:"images/map-pin.png",iconImageSize:[113,106],iconImageOffset:[-55,-100]});e.geoObjects.add(c),window.addEventListener("resize",()=>{e.setCenter(a()),c.geometry.setCoordinates(n),e.container.fitToViewport()})}var d=document.querySelector(".slider");if(d){let i=d.querySelector(".slider__curtain"),n=d.querySelector(".slider__image--before"),a=d.querySelector(".slider__image--after"),e=!1,c=t=>{let s=d.getBoundingClientRect(),r=t-s.left;r<0&&(r=0),r>s.width&&(r=s.width);let l=r/s.width*100;i.style.left=`${l}%`,n.style.clipPath=`inset(0 ${100-l}% 0 0)`,a.style.clipPath=`inset(0 0 0 ${l}%)`};i.addEventListener("mousedown",()=>{e=!0}),document.addEventListener("mouseup",()=>{e=!1}),document.addEventListener("mousemove",t=>{e&&c(t.clientX)}),i.addEventListener("touchstart",()=>{e=!0}),document.addEventListener("touchend",()=>{e=!1}),document.addEventListener("touchmove",t=>{e&&c(t.touches[0].clientX)}),window.addEventListener("load",()=>{n.style.clipPath="inset(0 50% 0 0)",a.style.clipPath="inset(0 0 0 50%)"}),window.addEventListener("resize",()=>{let t=n.style.clipPath.match(/(\d+(\.\d+)?)%/),s=t?parseFloat(t[1]):50;n.style.clipPath=`inset(0 ${s}% 0 0)`,a.style.clipPath=`inset(0 0 0 ${100-s}%)`})}
